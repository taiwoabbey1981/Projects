version: '3'

services:

  dataflow-server:
    environment:
      # AZURE CR
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_AZUREREGISTRY_REGISTRYHOST=scdftest.azurecr.io
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_AZUREREGISTRY_AUTHORIZATIONTYPE=BASICAUTH
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_AZUREREGISTRY_USER=${CR_AZURE_USER}
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_AZUREREGISTRY_SECRET=${CR_AZURE_PASS}
      # HARBOR CR
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_HARBORREGISTRY_REGISTRYHOST=projects.registry.vmware.com
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_HARBORREGISTRY_AUTHORIZATIONTYPE=basicauth
      # - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_HARBORREGISTRY_AUTHORIZATIONTYPE=dockeroauth2
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_HARBORREGISTRY_USER=${CR_HARBOR_USER}
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_HARBORREGISTRY_SECRET=${CR_HARBOR_PASS}
      # GITHUB CR
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_GITHUBREGISTRY_REGISTRYHOST=ghcr.io
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_GITHUBREGISTRY_AUTHORIZATIONTYPE=dockeroauth2
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_GITHUBREGISTRY_USER=${CR_GITHUB_USER}
      - SPRING_CLOUD_DATAFLOW_CONTAINER_REGISTRYCONFIGURATIONS_GITHUBREGISTRY_SECRET=${CR_GITHUB_PASS}
